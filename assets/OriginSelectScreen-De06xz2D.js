import{r as o,j as s}from"./vendor-react-BBAiCqIe.js";import{u as q,a as O,O as a,n}from"./index-C7rUvnqQ.js";import{l as I}from"./unlocks-ZRu2jkwL.js";import"./vendor-other-D1HXEB8n.js";import"./vendor-zustand-CsJFGcav.js";import"./vendor-motion-DPidUVdd.js";import"./hallOfFame-0hgsfmQm.js";function R(){var c,u,m,f,v,p;const{startNewGame:i}=q(),{playerLevel:r}=O(),[t,y]=o.useState("deserteur"),[l,h]=o.useState(null),[b,S]=o.useState(!0);o.useEffect(()=>{j()},[]);const j=async()=>{try{const e=await I();h(e)}catch(e){console.error("Erreur chargement unlocks:",e)}finally{S(!1)}},k=()=>{!l||!n(t,l)||i(t)};return b||!l?s.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:s.jsx("div",{children:"Chargement..."})}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",flex:1,padding:"1rem",overflowY:"auto"},children:[s.jsx("div",{style:{textAlign:"center",fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:"CHOISIS TON ORIGINE"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:a.map(e=>{const L=n(e.id,l),x=!e.requiredLevel||r>=e.requiredLevel,d=L&&x;return s.jsxs("div",{onClick:()=>d&&y(e.id),style:{background:t===e.id?"#3a3a3a":"#2a2a2a",padding:"1rem",borderRadius:"8px",border:`2px solid ${t===e.id?"#555":"#333"}`,cursor:d?"pointer":"not-allowed",opacity:d?1:.6},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[s.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:[d?"ğŸ”“":"ğŸ”’"," ",e.name]}),t===e.id&&d&&s.jsx("div",{style:{fontSize:"0.9rem",color:"#2ecc71"},children:"SÃ‰LECTIONNÃ‰"})]}),s.jsx("div",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"0.5rem",lineHeight:"1.5"},children:e.description}),!d&&s.jsx("div",{style:{fontSize:"0.8rem",color:"#888",fontStyle:"italic"},children:!x&&e.requiredLevel?s.jsxs("span",{style:{color:"#f39c12"},children:["Niveau ",e.requiredLevel," requis (Niveau actuel : ",r,")"]}):s.jsxs("span",{children:["Condition : ",C(e.id)]})}),d&&(e.bonuses.stats||e.bonuses.gold||e.maluses.stats||e.maluses.debt)&&s.jsxs("div",{style:{fontSize:"0.85rem",color:"#888",marginTop:"0.5rem",display:"flex",gap:"1rem"},children:[e.bonuses.stats&&s.jsxs("div",{children:["Bonus : ",e.bonuses.stats.atk?`+${e.bonuses.stats.atk} ATK `:"",e.bonuses.stats.def?`+${e.bonuses.stats.def} DEF `:"",e.bonuses.stats.vit?`+${e.bonuses.stats.vit} VIT `:""]}),e.maluses.stats&&s.jsxs("div",{children:["Malus : ",e.maluses.stats.atk?`${e.maluses.stats.atk} ATK `:"",e.maluses.stats.def?`${e.maluses.stats.def} DEF `:"",e.maluses.stats.vit?`${e.maluses.stats.vit} VIT `:""]}),e.bonuses.gold&&s.jsxs("div",{style:{color:"#2ecc71"},children:["+",e.bonuses.gold,"ğŸ’°"]}),e.maluses.debt&&s.jsxs("div",{style:{color:"#c44"},children:["Dette +",e.maluses.debt,"ğŸ’°"]})]})]},e.id)})}),s.jsx("button",{onClick:k,disabled:!l||!n(t,l)||((c=a.find(e=>e.id===t))==null?void 0:c.requiredLevel)!==void 0&&r<(((u=a.find(e=>e.id===t))==null?void 0:u.requiredLevel)??0),style:{fontSize:"1.1rem",padding:"1rem",width:"100%",opacity:l&&n(t,l)&&(!((m=a.find(e=>e.id===t))!=null&&m.requiredLevel)||r>=(((f=a.find(e=>e.id===t))==null?void 0:f.requiredLevel)||0))?1:.5,cursor:l&&n(t,l)&&(!((v=a.find(e=>e.id===t))!=null&&v.requiredLevel)||r>=(((p=a.find(e=>e.id===t))==null?void 0:p.requiredLevel)||0))?"pointer":"not-allowed"},children:"COMMENCER"})]})}function C(i){return{veteran:"1 victoire",pillard:"50 items lootÃ©s au total",moine:"5 monastÃ¨res explorÃ©s",noble:"Or > 200ğŸ’° dans une run",survivant:"3 fuites de combat"}[i]||"Inconnu"}export{R as default};

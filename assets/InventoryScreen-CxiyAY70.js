import{r as I,j as e}from"./vendor-react-BBAiCqIe.js";import{u as E,p as R,b as z,C as T,d as t,q as w}from"./index-DmALNL56.js";import"./vendor-other-D1HXEB8n.js";import"./vendor-zustand-CsJFGcav.js";import"./vendor-motion-DPidUVdd.js";const g={head:"Tête",torso:"Torse",legs:"Jambes",hands:"Mains",weapon:"Arme",offhand:"Secondaire",accessory:"Accessoire"};function $(){const{equipment:n,inventory:d,playerStats:u,equipItem:j,unequipItem:b,closeInventory:S}=E(),[M,l]=I.useState(void 0),a=R(u),{playSound:o,playHaptic:f}=z();return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",flex:1,padding:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:"INVENTAIRE"}),e.jsx("button",{onClick:()=>{o("ui_close"),f("button_press"),S()},children:"FERMER"})]}),e.jsxs("div",{style:{background:"#2a2a2a",padding:"1.5rem",borderRadius:"8px",border:"2px solid #555",marginBottom:"1rem",display:"flex",gap:"1.5rem",alignItems:"center"},children:[e.jsx(T,{equipment:n,showPreview:M,size:128}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"1.1rem",marginBottom:"1rem",fontWeight:"bold"},children:"État"}),e.jsxs("div",{style:{fontSize:"0.95rem",color:"#ccc",lineHeight:"1.8"},children:[e.jsx("div",{children:a.attack}),e.jsx("div",{children:a.defense}),e.jsx("div",{children:a.speed})]})]})]}),e.jsxs("div",{style:{background:"#2a2a2a",padding:"1.5rem",borderRadius:"8px",border:"2px solid #555",marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"1.1rem",marginBottom:"1rem",fontWeight:"bold"},children:"Équipé"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Object.entries(n).map(([s,r])=>r?e.jsxs("div",{style:{padding:"0.75rem",background:"#1a1a1a",borderRadius:"4px",border:`1px solid ${t(r.rarity)}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{color:r.cursed?"#c44":t(r.rarity),fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.name,r.cursed&&e.jsx("span",{style:{fontSize:"0.65rem",padding:"0.15rem 0.35rem",background:"#c44",color:"#fff",borderRadius:"3px",fontWeight:"bold"},children:"COMPROMIS"})]}),e.jsxs("div",{style:{fontSize:"0.85rem",color:"#999"},children:[g[s],r.cursed&&r.curseEffect&&e.jsxs("span",{style:{color:"#c44",marginLeft:"0.5rem"},children:["• ",r.curseEffect]})]})]}),e.jsx("button",{onClick:()=>b(s),style:{fontSize:"0.85rem",padding:"0.5rem 1rem"},children:"RETIRER"})]},s):null)})]}),e.jsxs("div",{"data-tutorial-inventory":!0,style:{background:"#2a2a2a",padding:"1.5rem",borderRadius:"8px",border:"2px solid #555",flex:1,overflowY:"auto"},children:[e.jsxs("div",{style:{fontSize:"1.1rem",marginBottom:"1rem",fontWeight:"bold"},children:["Inventaire (",d.length,"/10)"]}),d.length===0?e.jsx("div",{style:{color:"#888",fontStyle:"italic",textAlign:"center",padding:"2rem"},children:"Vide"}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:d.map(s=>{var r,x,h,v,m,y;return e.jsxs("div",{style:{padding:"0.75rem",background:"#1a1a1a",borderRadius:"4px",border:`1px solid ${t(s.rarity)}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{color:s.cursed?"#c44":t(s.rarity),fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.name,s.cursed&&e.jsx("span",{style:{fontSize:"0.65rem",padding:"0.15rem 0.35rem",background:"#c44",color:"#fff",borderRadius:"3px",fontWeight:"bold"},children:"COMPROMIS"})]}),s.cursed&&e.jsxs(e.Fragment,{children:[s.curseEffect&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"#c44",fontStyle:"italic",marginTop:"0.25rem"},children:["⚠️ ",s.curseEffect]}),s.curseDescription&&e.jsx("div",{style:{fontSize:"0.7rem",color:"#a88",marginTop:"0.25rem"},children:s.curseDescription}),(s.hiddenMalus||s.visibleMalus)&&e.jsxs("div",{style:{fontSize:"0.7rem",color:"#f44",marginTop:"0.25rem"},children:["Malus: ",((r=s.visibleMalus)==null?void 0:r.atk)&&`ATK -${s.visibleMalus.atk} `,((x=s.visibleMalus)==null?void 0:x.def)&&`DEF -${s.visibleMalus.def} `,((h=s.visibleMalus)==null?void 0:h.vit)&&`VIT -${s.visibleMalus.vit} `,((v=s.hiddenMalus)==null?void 0:v.atk)&&`ATK -${s.hiddenMalus.atk}(caché) `,((m=s.hiddenMalus)==null?void 0:m.def)&&`DEF -${s.hiddenMalus.def}(caché) `,((y=s.hiddenMalus)==null?void 0:y.vit)&&`VIT -${s.hiddenMalus.vit}(caché) `]}),(()=>{const c=u,k={...n,[s.slot]:s},p=w(k),i={atk:p.atk-c.atk,def:p.def-c.def,vit:p.vit-c.vit};return e.jsxs("div",{style:{fontSize:"0.7rem",marginTop:"0.5rem",padding:"0.5rem",background:"#1a1a1a",borderRadius:"4px"},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:"Stats après équipement :"}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("div",{children:["ATK: ",e.jsxs("span",{style:{color:i.atk>=0?"#4a4":"#f44"},children:[i.atk>=0?"+":"",i.atk]})]}),e.jsxs("div",{children:["DEF: ",e.jsxs("span",{style:{color:i.def>=0?"#4a4":"#f44"},children:[i.def>=0?"+":"",i.def]})]}),e.jsxs("div",{children:["VIT: ",e.jsxs("span",{style:{color:i.vit>=0?"#4a4":"#f44"},children:[i.vit>=0?"+":"",i.vit]})]})]})]})})()]}),e.jsx("div",{style:{fontSize:"0.85rem",color:"#999"},children:g[s.slot]})]}),e.jsx("button",{"data-tutorial-equip-button":!0,onMouseEnter:()=>l(s),onMouseLeave:()=>l(void 0),onClick:()=>{j(s),l(void 0),s.slot==="weapon"||s.slot==="offhand"?o("equip_metal"):o("equip_leather"),f("button_press")},style:{fontSize:"0.85rem",padding:"0.5rem 1rem"},children:"ÉQUIPER"})]},s.id)})})]})]})}export{$ as default};
